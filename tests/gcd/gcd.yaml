defaults:
  NumericalString:
    !Template
    charmap: 01234567890abcdefghijklmnopqrstuvwxyz
  FramedBase:
    !Template
    border_size: 1
    border_margin: 6
    label: 
    label_size: 8
    label_font: Mono
  AutoGrid:
    !Template
    step: row
  Text:
    !Template
    text: !NumericalString {radix: 10}
    text_size: 14
    text_font: Mono
  MemoryArray:
    !Template
    step: row
    offset: 0
    offset_anchor: 0
    rows: 1
    cols: 1
    
lib:
  text_binary:
    !Template
    text: !NumericalString {prefix: 0b, radix: 2}
  text_decimal:
    !Template
    text: !NumericalString {radix: 10}
  text_hexadecimal:
    !Template
    text: !NumericalString {prefix: 0x, radix: 16}
  text_bool:
    !DictTemplate
    0: {text: "false", text_color: red}
    1: {text: "true", text_color: green}
    default: {text: "true*", text_color: green}
    
  gcd_state_map:
    !DictTemplate
    0: {text: idle, text_color: pink}
    1: {text: calc, text_color: yellow}
    2: {text: done, text_color: green}
      
  gcd:
    !AutoGrid
    step: row
    cells:
    - ref: GCD_io_in
    - ref: GCD_state
    - ref: GCD_io_out
  gcd_state:
    !AutoGrid
    label: state
    step: col
    cells:
    - !TextBox {path: .state, template: gcd_state_map}
    - !TextBox {path: .latch_A, template: text_decimal}
    - !TextBox {path: .latch_B, template: text_decimal}
  gcd_io_in:
    !AutoGrid
    label: io (in)
    step: col
    cells:
    - !TextBox {path: _operands_bits_A, template: text_decimal}
    - !TextBox {path: _operands_bits_B, template: text_decimal}
    - !TextBox {path: _operands_val, template: text_bool}
    - !TextBox {path: _operands_rdy, template: text_bool}
  gcd_io_out:
    !AutoGrid
    label: io (out)
    step: col
    cells:
    - !TextBox {path: _results_bits_data, template: text_decimal}
    - !TextBox {path: _results_val, template: text_bool}
    - !TextBox {path: _results_rdy, template: text_bool}
display:
- !Ref {target: gcd, path: gcd}
